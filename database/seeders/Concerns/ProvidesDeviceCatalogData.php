<?php

namespace Database\Seeders\Concerns;

use App\Models\AssetModel;
use App\Models\AttributeDefinition;
use App\Models\Category;

trait ProvidesDeviceCatalogData
{
    /**
     * Attribute definitions used across laptops/phones.
     *
     * @return array<string,array<string,mixed>>
     */
    protected function attributeBlueprints(): array
    {
        return [
            'release_year' => [
                'label' => 'Introductiejaar',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 2005, 'max' => (int) date('Y'), 'step' => 1],
                'required' => true,
            ],
            'cpu_model' => [
                'label' => 'Processor',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops'],
                'required' => true,
            ],
            'cpu_core_count' => [
                'label' => 'Processorkernen',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'categories' => ['Laptops'],
                'constraints' => ['min' => 2, 'max' => 32, 'step' => 1],
            ],
            'gpu_model' => [
                'label' => 'Grafische kaart',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops'],
            ],
            'ram_size_gb' => [
                'label' => 'Werkgeheugen (GB)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => 'GB',
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 1, 'max' => 64, 'step' => 1],
                'required' => true,
            ],
            'ram_type' => [
                'label' => 'Geheugentype',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Laptops', 'Mobile Phones'],
                'options' => [
                    ['value' => 'ddr4', 'label' => 'DDR4'],
                    ['value' => 'ddr5', 'label' => 'DDR5'],
                    ['value' => 'lpddr4x', 'label' => 'LPDDR4X'],
                    ['value' => 'lpddr5', 'label' => 'LPDDR5'],
                    ['value' => 'lpddr5x', 'label' => 'LPDDR5X'],
                    ['value' => 'lpddr3', 'label' => 'LPDDR3'],
                ],
            ],
            'storage_capacity_gb' => [
                'label' => 'Opslagcapaciteit (GB)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => 'GB',
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 16, 'max' => 4096, 'step' => 1],
                'required' => true,
            ],
            'storage_type' => [
                'label' => 'Opslagtype',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Laptops', 'Mobile Phones'],
                'options' => [
                    ['value' => 'nvme', 'label' => 'NVMe-SSD'],
                    ['value' => 'ssd', 'label' => 'SATA-SSD'],
                    ['value' => 'hdd', 'label' => 'Harde schijf'],
                    ['value' => 'ufs', 'label' => 'UFS-opslag'],
                ],
            ],
            'display_size_inches' => [
                'label' => 'Schermgrootte (inch)',
                'datatype' => AttributeDefinition::DATATYPE_DECIMAL,
                'unit' => 'in',
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 3.0, 'max' => 18.0, 'step' => 0.1],
            ],
            'display_resolution' => [
                'label' => 'Schermresolutie',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops', 'Mobile Phones'],
            ],
            'display_panel_type' => [
                'label' => 'Schermtechnologie',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Laptops', 'Mobile Phones'],
                'options' => [
                    ['value' => 'ips', 'label' => 'IPS'],
                    ['value' => 'oled', 'label' => 'OLED'],
                    ['value' => 'amoled', 'label' => 'AMOLED'],
                    ['value' => 'tn', 'label' => 'TN'],
                ],
            ],
            'display_refresh_rate_hz' => [
                'label' => 'Verversingssnelheid (Hz)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => 'Hz',
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 30, 'max' => 240, 'step' => 1],
            ],
            'weight_kg' => [
                'label' => 'Gewicht (kg)',
                'datatype' => AttributeDefinition::DATATYPE_DECIMAL,
                'unit' => 'kg',
                'categories' => ['Laptops'],
                'constraints' => ['min' => 0.5, 'max' => 5.0, 'step' => 0.01],
            ],
            'battery_capacity' => [
                'label' => 'Batterijcapaciteit',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
                'allow_custom_values' => true,
                'required' => true,
            ],
            'battery_health_percent' => [
                'label' => 'Batterijgezondheid (%)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => '%',
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 0, 'max' => 100, 'step' => 1],
                'allow_asset_override' => true,
            ],
            'keyboard_layout' => [
                'label' => 'Toetsenbordindeling',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Laptops'],
                'options' => [
                    ['value' => 'us', 'label' => 'US (ANSI)'],
                    ['value' => 'uk', 'label' => 'UK'],
                    ['value' => 'iso', 'label' => 'EU (ISO)'],
                ],
            ],
            'webcam_present' => [
                'label' => 'Webcam aanwezig',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
            ],
            'supports_5g' => [
                'label' => '5G-ondersteuning',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Mobile Phones'],
            ],
            'rear_camera_megapixels' => [
                'label' => 'Hoofdcamera (MP)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => 'MP',
                'categories' => ['Mobile Phones'],
                'constraints' => ['min' => 2, 'max' => 200, 'step' => 1],
            ],
            'front_camera_megapixels' => [
                'label' => 'Selfiecamera (MP)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => 'MP',
                'categories' => ['Mobile Phones'],
                'constraints' => ['min' => 2, 'max' => 64, 'step' => 1],
            ],
            'os_family' => [
                'label' => 'Besturingssysteem',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Laptops', 'Mobile Phones'],
                'options' => [
                    ['value' => 'windows', 'label' => 'Windows'],
                    ['value' => 'macos', 'label' => 'macOS'],
                    ['value' => 'chromeos', 'label' => 'ChromeOS'],
                    ['value' => 'linux', 'label' => 'Linux'],
                    ['value' => 'android', 'label' => 'Android'],
                    ['value' => 'ios', 'label' => 'iOS'],
                ],
            ],
            'os_version' => [
                'label' => 'OS-versie',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'warranty_months' => [
                'label' => 'Garantie (maanden)',
                'datatype' => AttributeDefinition::DATATYPE_INT,
                'unit' => 'maanden',
                'categories' => ['Laptops', 'Mobile Phones'],
                'constraints' => ['min' => 0, 'max' => 36, 'step' => 1],
            ],
            'condition_grade' => [
                'label' => 'Cosmetische staat',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Laptops', 'Mobile Phones'],
                'options' => [
                    ['value' => 'grade_a', 'label' => 'A-kwaliteit'],
                    ['value' => 'grade_b', 'label' => 'B-kwaliteit'],
                    ['value' => 'grade_c', 'label' => 'C-kwaliteit'],
                ],
            ],
            'color' => [
                'label' => 'Kleur',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops', 'Mobile Phones'],
            ],
            'usb_ports_summary' => [
                'label' => 'USB-aansluitingen',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
                'allow_custom_values' => true,
            ],
            'video_outputs_summary' => [
                'label' => 'Video-uitgangen',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
                'allow_custom_values' => true,
            ],
            'audio_connectors_summary' => [
                'label' => 'Audio-aansluitingen',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
                'allow_custom_values' => true,
            ],
            'included_accessories' => [
                'label' => 'Meegeleverde accessoires',
                'datatype' => AttributeDefinition::DATATYPE_TEXT,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_custom_values' => true,
                'allow_asset_override' => true,
            ],
            'charger_included' => [
                'label' => 'Oplader meegeleverd',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
            ],
            'charging_port_type' => [
                'label' => 'Laadpoort',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Mobile Phones'],
                'options' => [
                    ['value' => 'usb-c', 'label' => 'USB-C'],
                    ['value' => 'lightning', 'label' => 'Lightning'],
                    ['value' => 'mag-safe', 'label' => 'MagSafe'],
                ],
            ],
            'ip_rating' => [
                'label' => 'IP-classificatie',
                'datatype' => AttributeDefinition::DATATYPE_ENUM,
                'categories' => ['Mobile Phones'],
                'options' => [
                    ['value' => 'ip68', 'label' => 'IP68'],
                    ['value' => 'ip67', 'label' => 'IP67'],
                    ['value' => 'ip54', 'label' => 'IP54'],
                ],
            ],
            // Test attributes
            'wifi_test' => [
                'label' => 'Wifi-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'bluetooth_test' => [
                'label' => 'Bluetooth-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'speaker_test' => [
                'label' => 'Luidsprekertest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'microphone_test' => [
                'label' => 'Microfoontest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'display_test' => [
                'label' => 'Schermtest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'battery_test' => [
                'label' => 'Batterijtest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops', 'Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'webcam_test' => [
                'label' => 'Webcamtest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'front_camera_test' => [
                'label' => 'Selfiecamera-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'rear_camera_test' => [
                'label' => 'Hoofdcamera-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'face_unlock_test' => [
                'label' => 'Gezichtsherkenningstest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Mobile Phones'],
                'allow_asset_override' => true,
            ],
            'ethernet_test' => [
                'label' => 'Ethernet-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'usb_ports_test' => [
                'label' => 'USB-poortentest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'sd_card_reader_test' => [
                'label' => 'SD-kaartlezertest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'hdmi_test' => [
                'label' => 'HDMI-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'vga_test' => [
                'label' => 'VGA-test',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'keyboard_test' => [
                'label' => 'Toetsentest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'touchpad_test' => [
                'label' => 'Touchpadtest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'cpu_test' => [
                'label' => 'Processortest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'ram_test' => [
                'label' => 'Geheugentest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
            'storage_test' => [
                'label' => 'Opslagtest',
                'datatype' => AttributeDefinition::DATATYPE_BOOL,
                'categories' => ['Laptops'],
                'allow_asset_override' => true,
            ],
        ];
    }

    /**
     * Reference device presets for demo/catalog purposes.
     *
     * @return array<string,array<string,mixed>>
     */
    protected function modelBlueprints(): array
    {
        return [
            'Macbook Pro 13"' => [
                'factory' => fn () => AssetModel::factory()->mbp13Model()->create(),
                'code' => 'MBP13-2019-I5-16G-512',
                'label' => 'MacBook Pro 13" – i5 – 16GB – 512GB',
                'attributes' => [
                    'release_year' => 2019,
                    'cpu_model' => 'Intel Core i5-8279U',
                    'cpu_core_count' => 4,
                    'gpu_model' => 'Intel Iris Plus 655',
                    'ram_size_gb' => 16,
                    'ram_type' => 'lpddr3',
                    'storage_capacity_gb' => 512,
                    'storage_type' => 'nvme',
                    'display_size_inches' => 13.3,
                    'display_resolution' => '2560 x 1600',
                    'display_panel_type' => 'ips',
                    'display_refresh_rate_hz' => 60,
                    'weight_kg' => 1.37,
                    'battery_capacity' => '58 Wh',
                    'battery_health_percent' => 92,
                    'keyboard_layout' => 'us',
                    'webcam_present' => true,
                    'usb_ports_summary' => '2× Thunderbolt 3 (USB-C)',
                    'video_outputs_summary' => 'Thunderbolt 3 via USB-C',
                    'audio_connectors_summary' => '3,5 mm audio',
                    'charger_included' => true,
                    'included_accessories' => '67W USB-C-voeding, USB-C-oplaadkabel',
                    'os_family' => 'macos',
                    'os_version' => 'macOS Sonoma 14.3',
                    'warranty_months' => 12,
                    'condition_grade' => 'grade_a',
                    'color' => 'Space Gray',
                    'wifi_test' => true,
                    'bluetooth_test' => true,
                    'speaker_test' => true,
                    'microphone_test' => true,
                    'webcam_test' => true,
                    'keyboard_test' => true,
                    'touchpad_test' => true,
                    'display_test' => true,
                    'cpu_test' => true,
                    'ram_test' => true,
                    'storage_test' => true,
                    'battery_test' => true,
                    'usb_ports_test' => true,
                ],
            ],
            'XPS 13' => [
                'factory' => fn () => AssetModel::factory()->xps13Model()->create(),
                'code' => 'XPS13-9310-I7-16G-512',
                'label' => 'Dell XPS 13 – i7 – 16GB – 512GB',
                'attributes' => [
                    'release_year' => 2021,
                    'cpu_model' => 'Intel Core i7-1165G7',
                    'cpu_core_count' => 4,
                    'gpu_model' => 'Intel Iris Xe Graphics',
                    'ram_size_gb' => 16,
                    'ram_type' => 'lpddr4x',
                    'storage_capacity_gb' => 512,
                    'storage_type' => 'nvme',
                    'display_size_inches' => 13.4,
                    'display_resolution' => '3840 x 2400',
                    'display_panel_type' => 'ips',
                    'display_refresh_rate_hz' => 60,
                    'weight_kg' => 1.2,
                    'battery_capacity' => '52 Wh',
                    'battery_health_percent' => 95,
                    'keyboard_layout' => 'us',
                    'webcam_present' => true,
                    'usb_ports_summary' => '2× Thunderbolt 4 (USB-C)',
                    'video_outputs_summary' => 'Thunderbolt 4 via USB-C',
                    'audio_connectors_summary' => '3,5 mm audio, microSD-kaartlezer',
                    'charger_included' => true,
                    'included_accessories' => '45W USB-C-voeding',
                    'os_family' => 'windows',
                    'os_version' => 'Windows 11 Pro',
                    'warranty_months' => 12,
                    'condition_grade' => 'grade_a',
                    'color' => 'Platinum Silver',
                    'wifi_test' => true,
                    'bluetooth_test' => true,
                    'speaker_test' => true,
                    'microphone_test' => true,
                    'webcam_test' => true,
                    'keyboard_test' => true,
                    'touchpad_test' => true,
                    'display_test' => true,
                    'cpu_test' => true,
                    'ram_test' => true,
                    'storage_test' => true,
                    'battery_test' => true,
                    'usb_ports_test' => true,
                    'sd_card_reader_test' => true,
                ],
            ],
            'iPhone 12' => [
                'factory' => fn () => AssetModel::factory()->iphone12Model()->create(),
                'code' => 'IP12-128-BLUE',
                'label' => 'iPhone 12 – 128GB – Simlockvrij',
                'attributes' => [
                    'release_year' => 2020,
                    'ram_size_gb' => 4,
                    'ram_type' => 'lpddr4x',
                    'storage_capacity_gb' => 128,
                    'storage_type' => 'ufs',
                    'display_size_inches' => 6.1,
                    'display_resolution' => '2532 x 1170',
                    'display_panel_type' => 'oled',
                    'display_refresh_rate_hz' => 60,
                    'battery_capacity' => '2815 mAh',
                    'battery_health_percent' => 89,
                    'rear_camera_megapixels' => 12,
                    'front_camera_megapixels' => 12,
                    'supports_5g' => true,
                    'os_family' => 'ios',
                    'os_version' => 'iOS 18',
                    'warranty_months' => 6,
                    'condition_grade' => 'grade_a',
                    'color' => 'Pacific Blue',
                    'charger_included' => false,
                    'included_accessories' => 'USB-C-naar-Lightning-kabel',
                    'charging_port_type' => 'lightning',
                    'ip_rating' => 'ip68',
                    'display_test' => true,
                    'front_camera_test' => true,
                    'rear_camera_test' => true,
                    'face_unlock_test' => true,
                    'wifi_test' => true,
                    'bluetooth_test' => true,
                    'speaker_test' => true,
                    'microphone_test' => true,
                    'battery_test' => true,
                ],
            ],
            'Pixel 8 Pro' => [
                'factory' => fn () => AssetModel::factory()->create([
                    'name' => 'Pixel 8 Pro',
                    'category_id' => Category::where('name', 'Mobile Phones')->value('id')
                        ?? Category::factory()->assetMobileCategory()->create()->id,
                ]),
                'code' => 'PIXEL8PRO-256-OBSIDIAN',
                'label' => 'Pixel 8 Pro – 256GB – Obsidian',
                'attributes' => [
                    'release_year' => 2023,
                    'ram_size_gb' => 12,
                    'ram_type' => 'lpddr5x',
                    'storage_capacity_gb' => 256,
                    'storage_type' => 'ufs',
                    'display_size_inches' => 6.7,
                    'display_resolution' => '2992 x 1344',
                    'display_panel_type' => 'oled',
                    'display_refresh_rate_hz' => 120,
                    'battery_capacity' => '5050 mAh',
                    'battery_health_percent' => 97,
                    'rear_camera_megapixels' => 50,
                    'front_camera_megapixels' => 10,
                    'supports_5g' => true,
                    'os_family' => 'android',
                    'os_version' => 'Android 14',
                    'warranty_months' => 12,
                    'condition_grade' => 'grade_a',
                    'color' => 'Obsidian',
                    'charger_included' => false,
                    'included_accessories' => 'USB-C-kabel (1 m)',
                    'charging_port_type' => 'usb-c',
                    'ip_rating' => 'ip68',
                    'display_test' => true,
                    'front_camera_test' => true,
                    'rear_camera_test' => true,
                    'wifi_test' => true,
                    'bluetooth_test' => true,
                    'speaker_test' => true,
                    'microphone_test' => true,
                    'battery_test' => true,
                ],
            ],
        ];
    }
}
